<div>
  <app-add-question *ngIf="adminService.onSelectUploadQuestion" [chapterId]="chapterId"></app-add-question>
    <h2 class="text-center mt-3" *ngIf="!isLoading">{{ selectedCourse }}</h2>         
    <div *ngIf="getQuestions && adminService.onSelectViewQuestion">
      <div *ngIf="isLoading" style="text-align: center;">
        <app-loading-spinner></app-loading-spinner>
      </div>
      <form action="" class="form-inline mb-5">
      <div class="form-group" *ngIf="getQuestions">
        <input type="text" class="form-control" placeholder="Search by Name"
        name="name" [(ngModel)]="name" (ngModelChange)="Search()">
        <button class="btn btn-primary ml-3" *ngIf="adminService.onSelectViewQuestion" (click)="uploadQuestion()">Upload Question</button>
      </div></form>

      <div class="row text-center mt-5" *ngIf="length==0 && getQuestions">
        <div class="col s6 offset-s3">
            <img src="/assets/img/nothing.png" style="height:250px;width:300px;" class="mb-2">
            <h3>No Questions Here</h3>
        </div>
      </div>

      <div class="card"  *ngFor="let quest of questions; let i = index">
          <h5 class="card-header">{{ i+1 }}. {{ quest.question }}</h5>
          <div class="card-body">
            <p class="card-text">a: {{ quest.option1 }}</p>
            <p class="card-text">b: {{ quest.option2 }}</p>
            <p class="card-text">c: {{ quest.option3 }}</p>
            <p class="card-text">d: {{ quest.option4 }}</p>
            <p class="card-text"><b>Correct Answer:</b> {{ quest.correctAnswer }}</p>
            <p class="card-text">Answer Details:</p>
            <p class="card-text">{{ quest.asnwerDetails }}</p>

            <button class="btn btn-success mr-3" (click)="changeInfo(i)">Update Question</button>
            <button class="btn btn-success" (click)="deleteQuestion(quest.questionId)">Delete Question</button>


            <div *ngIf="onClickChange && i == index">
                <h5 class="card-header">Add New Info</h5>
        
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Question</span>
                </div>
                <input type="text" class="form-control" placeholder="Enter Question" aria-describedby="basic-addon2"
                [placeholder]="quest.question"
                [(ngModel)]="question">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Option 1</span>
                </div>
                <input type="text" class="form-control" placeholder="Option 1" aria-describedby="basic-addon2"
                [placeholder]="quest.option1"
                [(ngModel)]="option1">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Option 2</span>
                </div>
                <input type="text" class="form-control" placeholder="Option 2" aria-describedby="basic-addon2"
                [placeholder]="quest.option2"
                [(ngModel)]="option2">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Option 3</span>
                </div>
                <input type="text" class="form-control" placeholder="Option 3" aria-describedby="basic-addon2"
                [placeholder]="quest.option3"
                [(ngModel)]="option3">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Option 4</span>
                </div>
                <input type="text" class="form-control" placeholder="Option 4" aria-describedby="basic-addon2"
                [placeholder]="quest.option4"
                [(ngModel)]="option4">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Correct Answer</span>
                </div>
                <input type="text" class="form-control" placeholder="Correct Answer" aria-describedby="basic-addon2"
                [placeholder]="quest.correctAnswer"
                [(ngModel)]="correctAnswer">
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">Answer Details</span>
                </div>
                <input type="text" class="form-control" placeholder="Answer Details" aria-describedby="basic-addon2"
                [placeholder]="quest.asnwerDetails"
                [(ngModel)]="answerDetails">
              </div>

              <button class="btn btn-success mb-5" 
                (click)="editResult(quest.question, quest.option1, quest.option2, quest.option3, quest.option4, quest.correctAnswer, quest.answerDetails, quest.questionId, quest.chapterId)">
                Save Changes
              </button>
            </div>
        </div>           
    </div>
  </div>
</div>